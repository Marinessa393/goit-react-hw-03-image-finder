{"version":3,"sources":["Service/Img-API.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js"],"names":["fetchImages","searchQuery","currentPage","axios","get","then","response","data","hits","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGallery","children","ImageGalleryItem","images","onClick","map","id","webformatURL","largeImageURL","src","alt","Button","Spinner","color","height","width","timeout","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","document","querySelector","App","largeImage","isLoading","showModal","onSearchImages","onFetchImages","fetchedImages","console","log","length","prevState","scrolling","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","openImage","toggleModal","prevProps","shouldRenderLoadMoreButton","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ffdd9a1e.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst API_KEY = '19822472-14ec0e3f9ba277805ee5b06f8';\r\n\r\nexport function fetchImages(searchQuery, currentPage) {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => response.data.hits);\r\n}\r\n","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = { query: '' };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.query.trim() === '') {\r\n      return toast.error('Enter word');\r\n    }\r\n\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button\"></span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = { onSubmit: PropTypes.func.isRequired };\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function ImageGallery({ children }) {\r\n  return <ul className=\"ImageGallery\">{children}</ul>;\r\n}\r\n\r\nImageGallery.propTypes = { children: PropTypes.element.isRequired };\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function ImageGalleryItem({ images, onClick }) {\r\n  return images.map(({ webformatURL, largeImageURL }, id) => (\r\n    <li className=\"ImageGalleryItem\" key={id}>\r\n      <img\r\n        className=\"ImageGalleryItem_image\"\r\n        src={webformatURL}\r\n        alt=\"\"\r\n        onClick={() => onClick({ largeImageURL })}\r\n      />\r\n    </li>\r\n  ));\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }),\r\n  ),\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" onClick={onClick} className=\"Button\">\r\n      Load more...\r\n    </button>\r\n  );\r\n}\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Loader from 'react-loader-spinner';\r\nexport default function Spinner() {\r\n  return (\r\n    <div className=\"Loader\">\r\n      <Loader\r\n        type=\"Hearts\"\r\n        color=\"#e91184\"\r\n        height={160}\r\n        width={160}\r\n        timeout={3000} //3 secs\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">\r\n          <img src={this.props.src} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      document.querySelector('#modal-root'),\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from 'react';\nimport { fetchImages } from './Service/Img-API';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem';\nimport Button from './components/Button';\nimport Spinner from './components/Loader';\nimport Modal from './components/Modal';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchQuery: '',\n    largeImage: '',\n    currentPage: 1,\n    isLoading: false,\n    showModal: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) this.onFetchImages();\n  }\n\n  onSearchImages = query => {\n    this.setState({\n      images: [],\n      searchQuery: query,\n      currentPage: 1,\n    });\n  };\n\n  onFetchImages = () => {\n    this.setState({ isLoading: true });\n\n    fetchImages(this.state.searchQuery, this.state.currentPage)\n      .then(fetchedImages => {\n        console.log(fetchedImages);\n        if (fetchedImages.length === 0) {\n          return this.setState({\n            error: 'Oops, I can`t find any images...',\n          });\n        }\n        this.setState(prevState => ({\n          images: [...prevState.images, ...fetchedImages],\n          currentPage: prevState.currentPage + 1,\n          error: null,\n        }));\n        this.scrolling();\n      })\n      .catch(error => this.setState({ error: 'Try Again' }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  scrolling = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  openImage = images => {\n    this.setState({ largeImage: images.largeImageURL });\n    console.log(this.state.largeImage);\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n    }));\n  };\n\n  render() {\n    const { onSearchImages, openImage, onFetchImages, toggleModal } = this;\n    const { isLoading, showModal, largeImage, images, error } = this.state;\n    const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n\n    return (\n      <>\n        <Searchbar onSubmit={onSearchImages} />\n        <ImageGallery>\n          <ImageGalleryItem images={images} onClick={openImage} />\n        </ImageGallery>\n\n        {shouldRenderLoadMoreButton && <Button onClick={onFetchImages} />}\n\n        {isLoading && <Spinner />}\n\n        {showModal && <Modal onClose={toggleModal} src={largeImage}></Modal>}\n        {error && <p className=\"Error\">{error}</p>}\n        <ToastContainer autoClose={2000} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}